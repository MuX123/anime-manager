<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <!-- 摰?批撥??Head -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta name="theme-color" content="#050609">
    <title>ACG ?嗉?摨?/title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&family=Noto+Sans+TC:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- CSS 璅∠???瑽?-->
    <link rel="stylesheet" href="./css/variables.css?v=20260213_v16">
    <link rel="stylesheet" href="./css/base.css?v=20260213_v16">
    <link rel="stylesheet" href="./css/layout.css?v=20260213_v16">
    <link rel="stylesheet" href="./css/components.css?v=20260213_v16">
    <link rel="stylesheet" href="./css/responsive.css?v=20260213_v16">
    <!-- 閰單??見撘?(??Modal 雿輻) -->
    <link rel="stylesheet" href="./css/detail-cyberpunk.css?v=20260213_v16">
    <!-- ?拚?刻???-->
    <link rel="stylesheet" href="./css/matrix-rain.css?v=20260213_v16">
    <!-- 皜脫?蝟餌絞璅?? (?∠??噬蝡? -->
    <link rel="stylesheet" href="./css/render.css?v=20260213_v16">
    <!-- ??銝駁?璅?? (?敺??乩誑閬????cursor 璅??) -->
    <link rel="stylesheet" href="./css/animations.css?v=20260212_v16">
    <link rel="stylesheet" href="./css/loader.css?v=20260213_v16">
    <!-- ?皜脫?頝臬?璅?? -->
    <style>
        #loading-screen {
            position: fixed !important;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #050609;
            z-index: 999999;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal {
            position: fixed !important;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 99999;
            display: none;
        }

        #toast {
            position: fixed !important;
            bottom: 30px;
            left: 30px;
            z-index: 100000;
            pointer-events: none;
            opacity: 0;
        }
    </style>
</head>

<body>
    <!-- 擏剖恥隞餃??貊Ⅳ?刻???- ??scaling 摰孵憭 -->
    <canvas id="c"></canvas>

    <!-- ACG 鈭?瘞?撅?-->
    <div id="atmosphere-container">
        <div class="atmosphere-grid"></div>
        <div class="atmosphere-glow"></div>
        <div class="atmosphere-tech-overlay"></div>
    </div>

    <!-- ???恍 (蝘餃 site-scaler 隞仿?葬?曉蔣?蹂蒂蝣箔?蝵桅?) -->
    <!-- ???恍 (蝘餃 site-scaler 隞仿?葬?曉蔣?蹂蒂蝣箔?蝵桅?) -->
    <div id="loading-screen">
        <div class="gas-steam gas-left"></div>
        <div class="gas-steam gas-right"></div>

        <!-- Left Gate -->
        <div class="gate-left">
            <div class="grid-overlay"></div>
            <!-- V16 High-Fidelity SVG Circuits -->
            <svg class="gate-pattern" viewBox="0 0 1000 1000" preserveAspectRatio="xMidYMid slice">
                <defs>
                    <linearGradient id="circuitGradLeft" x1="100%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#00ffff;stop-opacity:0.9" />
                        <stop offset="50%" style="stop-color:#0080ff;stop-opacity:0.7" />
                        <stop offset="100%" style="stop-color:#8000ff;stop-opacity:0.5" />
                    </linearGradient>
                </defs>
                <!-- Optimized Paths from Reference for Left Gate -->
                <path class="line-breathe" d="M1000,100 H700 L680,120 H500 L480,100 H300 L270,130 H0"
                    stroke="url(#circuitGradLeft)" stroke-width="3" fill="none" />
                <path class="line-breathe-delay" d="M1000,300 H750 L730,280 H550 L530,300 H350 L330,280 H0"
                    stroke="url(#circuitGradLeft)" stroke-width="3" fill="none" />
                <path class="line-breathe"
                    d="M1000,500 H880 L860,520 H680 L660,500 H480 L460,520 H280 L260,500 H80 L60,520 H0"
                    stroke="url(#circuitGradLeft)" stroke-width="3" fill="none" />
                <path class="line-breathe-slow" d="M1000,150 H800 L780,170 H620 L600,150 H420 L400,170 H200 L180,150 H0"
                    stroke="url(#circuitGradLeft)" stroke-width="2" fill="none" />
                <!-- Vertical -->
                <path class="line-breathe" d="M900,0 V200 L880,220 V400 L900,420 V600 L880,650 V1000"
                    stroke="url(#circuitGradLeft)" stroke-width="3" fill="none" />
                <path class="line-breathe-delay"
                    d="M700,0 V250 L720,270 V450 L700,470 V650 L720,670 V850 L700,900 V1000"
                    stroke="url(#circuitGradLeft)" stroke-width="3" fill="none" />
            </svg>

            <div class="gate-beam"></div>
            <div class="gate-bolt t-1"></div>
            <div class="gate-bolt b-1"></div>

            <div class="mech-detail-1"></div>

            <!-- Masterpiece Armored Lock (V21) -->
            <div class="lock-plate left">
                <!-- Neural Mesh Layer -->
                <svg class="gate-pattern" viewBox="0 0 300 600" preserveAspectRatio="none">
                    <path class="line-breathe-delay" d="M300,50 H100 L80,70 H0" stroke="url(#circuitGradLeft)"
                        stroke-width="2" fill="none" />
                    <path class="line-breathe-slow" d="M300,300 H150 L130,280 H0" stroke="url(#circuitGradLeft)"
                        stroke-width="2" fill="none" />
                    <path class="line-breathe" d="M300,550 H120 L100,530 H0" stroke="url(#circuitGradLeft)"
                        stroke-width="2" fill="none" />
                    <path class="line-breathe-accent" d="M300,150 H180 L160,130 H200 V450"
                        stroke="url(#circuitGradLeft)" stroke-width="1" fill="none" />
                </svg>
                <!-- Armored structural details -->
                <div class="lock-armor-frame"></div>
                <div class="lock-bolts">
                    <div class="bolt bolt-1"></div>
                    <div class="bolt bolt-2"></div>
                    <div class="bolt bolt-3"></div>
                </div>
            </div>
        </div>

        <!-- Right Gate -->
        <div class="gate-right">
            <div class="grid-overlay"></div>
            <!-- V16 High-Fidelity SVG Circuits -->
            <svg class="gate-pattern" viewBox="0 0 1000 1000" preserveAspectRatio="xMidYMid slice">
                <defs>
                    <linearGradient id="circuitGradRight" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#00ffff;stop-opacity:0.9" />
                        <stop offset="50%" style="stop-color:#0080ff;stop-opacity:0.7" />
                        <stop offset="100%" style="stop-color:#8000ff;stop-opacity:0.5" />
                    </linearGradient>
                </defs>
                <!-- Optimized Paths from Reference for Right Gate -->
                <path class="line-breathe" d="M0,100 H300 L320,120 H500 L520,100 H700 L730,130 H1000"
                    stroke="url(#circuitGradRight)" stroke-width="3" fill="none" />
                <path class="line-breathe-delay" d="M0,300 H250 L270,280 H450 L470,300 H650 L670,280 H1000"
                    stroke="url(#circuitGradRight)" stroke-width="3" fill="none" />
                <path class="line-breathe"
                    d="M0,500 H120 L140,520 H320 L340,500 H520 L540,520 H720 L740,500 H920 L940,520 H1000"
                    stroke="url(#circuitGradRight)" stroke-width="3" fill="none" />
                <path class="line-breathe-slow" d="M0,150 H200 L220,170 H380 L400,150 H580 L600,170 H800 L820,150 H1000"
                    stroke="url(#circuitGradRight)" stroke-width="2" fill="none" />
                <!-- Vertical -->
                <path class="line-breathe" d="M100,0 V200 L120,220 V400 L100,420 V600 L120,650 V1000"
                    stroke="url(#circuitGradRight)" stroke-width="3" fill="none" />
                <path class="line-breathe-delay"
                    d="M300,0 V250 L280,270 V450 L300,470 V650 L280,670 V850 L300,900 V1000"
                    stroke="url(#circuitGradRight)" stroke-width="3" fill="none" />
            </svg>

            <div class="gate-beam"></div>
            <div class="gate-bolt t-1"></div>
            <div class="gate-bolt b-1"></div>

            <div class="mech-detail-1"></div>

            <!-- Masterpiece Armored Lock (V21) -->
            <div class="lock-plate right">
                <svg class="gate-pattern" viewBox="0 0 300 600" preserveAspectRatio="none">
                    <path class="line-breathe-delay" d="M0,50 H200 L220,70 H300" stroke="url(#circuitGradRight)"
                        stroke-width="2" fill="none" />
                    <path class="line-breathe-slow" d="M0,300 H150 L170,280 H300" stroke="url(#circuitGradRight)"
                        stroke-width="2" fill="none" />
                    <path class="line-breathe" d="M0,550 H180 L200,530 H300" stroke="url(#circuitGradRight)"
                        stroke-width="2" fill="none" />
                    <path class="line-breathe-accent" d="M0,150 H120 L140,130 H100 V450" stroke="url(#circuitGradRight)"
                        stroke-width="1" fill="none" />
                </svg>
                <!-- Armored structural details -->
                <div class="lock-armor-frame"></div>
                <div class="lock-bolts">
                    <div class="bolt bolt-1"></div>
                    <div class="bolt bolt-2"></div>
                    <div class="bolt bolt-3"></div>
                </div>
            </div>
        </div>

        <!-- Center Effects & UI -->
        <div class="center-stage">
            <!-- Explosive Gas -->
            <div class="center-gas"></div>

            <!-- Circuit Burst Effect -->
            <div class="circuit-burst"></div>

            <!-- Unified Hub (The whole assembly that spins together) -->
            <div class="rotating-hub">
                <!-- Mechanical Aura (No Glow) -->
                <div class="hub-aura"></div>

                <!-- Supportive Visual Ring -->
                <div class="lock-core-spinner">
                    <div class="core-ring outer"></div>
                    <div class="core-ring inner"></div>
                </div>
            </div>

            <div class="center-ui-container">
                <!-- Loading Title -->
                <div class="loading-title">
                    ACG ?嗉?摨?                    <div class="loading-subtitle">ACG ?嗉?摨怨???/div>
                </div>

                <!-- Loading Status -->
                <div class="loading-status" id="loading-status">銝餅敹?甇乩葉...</div>

                <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar-frame">
                        <div class="progress-bar-fill" id="progress-bar-fill"></div>
                    </div>
                    <div class="progress-text"><span id="progress-percent">0</span>% ?賣?頛詨</div>
                </div>
            </div>
        </div>
    </div>

    <div class="site-scaler">

        <div class="site-header">
            <div id="adminHeaderBar" class="admin-header-bar"></div>
        </div>

        <div class="analytics-bar">
            <div id="analytics-display">
                <span style="margin-right: 8px;">? <span
                        style="display: inline-block; min-width: 40px; text-align: left;">--</span></span>
                <span style="margin-right: 8px;">?儭?<span
                        style="display: inline-block; min-width: 40px; text-align: left;">--</span></span>
                <span>?? <span style="display: inline-block; min-width: 40px; text-align: left;">--</span></span>
            </div>
            <div class="marquee-container">
                <div id="top-marquee-content" class="marquee-content"></div>
            </div>
        </div>

        <div id="app"></div>

        <!-- 閰單?敶? (Detail Modal) -->
        <div id="detailModal" class="modal">
            <div class="modal-content">
                <span class="close-btn" onclick="window.closeAnimeDetail()">&times;</span>
                <div id="detailContent"></div>
            </div>
        </div>

        <div id="toast" class="toast"></div>
        <input type="file" id="importFile" style="display: none;" onchange="window.importData(event)">

        <!-- GitHub Pages ?蔭 (????? -->
        <script src="./js/github-pages-config.js?v=20260204_v1"></script>

        <!-- ?詨??箇?璅∠? (頛????) -->
        <script src="./js/config.js?v=20260205_v1"></script>
        <script src="./js/logger.js?v=20260205_v4"></script>
        <script src="./js/security.js?v=20260204_v2"></script>
        <script src="./js/usability.js?v=20260204_v1"></script>
        <script src="./js/performance.js?v=20260204_v1"></script>

        <!-- ??璅∠? -->
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
        <script src="./js/supabase.js?v=20260213_v12"></script>
        <script src="./js/analytics.js?v=20260213_v12"></script>
        <script src="./js/announcements.js?v=20260213_v12"></script>
        <script src="./js/render.js?v=20260213_v12"></script>
        <script src="./js/script.js?v=20260213_v12"></script>
        <script src="./js/atmosphere.js?v=20260213_v12"></script>

        <!-- 閬死??璅∠? -->
        <script src="./js/matrix-rain.js"></script>
        <script src="./js/background-switcher.js"></script>

        <!-- 隤輯岫撌亙 (?璅∪?) -->
        <script src="./js/debug.js?v=20260202_v1"></script>

        <!-- ??靽桀儔鋆? -->
        <script src="./js/fix-recommendation.js?v=20260204_v1"></script>

        <!-- Service Worker 閮餃? -->
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    console.log('[Main] 甇?閮餃? Service Worker...');
                });
            }
        </script>
</body>

</html>
